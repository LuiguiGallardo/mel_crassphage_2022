#!/bin/bash
alpha_diversity.py -i alpha_H-10.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-10.biom.txt &
alpha_diversity.py -i alpha_H-118.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-118.biom.txt &
alpha_diversity.py -i alpha_H-119.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-119.biom.txt &
alpha_diversity.py -i alpha_H-120.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-120.biom.txt &
alpha_diversity.py -i alpha_H-161.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-161.biom.txt &
alpha_diversity.py -i alpha_H-193.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-193.biom.txt &
alpha_diversity.py -i alpha_H-314.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_H-314.biom.txt &
alpha_diversity.py -i alpha_O-121.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-121.biom.txt &
alpha_diversity.py -i alpha_O-122.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-122.biom.txt &
alpha_diversity.py -i alpha_O-123.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-123.biom.txt &
alpha_diversity.py -i alpha_O-152.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-152.biom.txt &
alpha_diversity.py -i alpha_O-39.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-39.biom.txt &
alpha_diversity.py -i alpha_O-420.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-420.biom.txt &
alpha_diversity.py -i alpha_O-434.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_O-434.biom.txt &
alpha_diversity.py -i alpha_OMC-125.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_OMC-125.biom.txt &
alpha_diversity.py -i alpha_OMC-126.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_OMC-126.biom.txt &
alpha_diversity.py -i alpha_OMC-288.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_alpha_OMC-288.biom.txt &
alpha_diversity.py -i beta_H-10.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_H-10.biom.txt &
alpha_diversity.py -i beta_H-118.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_H-118.biom.txt &
alpha_diversity.py -i beta_H-193.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_H-193.biom.txt &
alpha_diversity.py -i beta_O-121.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_O-121.biom.txt &
alpha_diversity.py -i beta_O-122.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_O-122.biom.txt &
alpha_diversity.py -i beta_O-152.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_O-152.biom.txt &
alpha_diversity.py -i beta_O-39.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_O-39.biom.txt &
alpha_diversity.py -i beta_OMC-124.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_OMC-124.biom.txt &
alpha_diversity.py -i beta_OMC-288.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_beta_OMC-288.biom.txt &
alpha_diversity.py -i delta_H-10.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-10.biom.txt &
alpha_diversity.py -i delta_H-118.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-118.biom.txt &
alpha_diversity.py -i delta_H-119.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-119.biom.txt &
alpha_diversity.py -i delta_H-120.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-120.biom.txt &
alpha_diversity.py -i delta_H-161.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-161.biom.txt &
alpha_diversity.py -i delta_H-193.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-193.biom.txt &
alpha_diversity.py -i delta_H-314.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_H-314.biom.txt &
alpha_diversity.py -i delta_O-121.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-121.biom.txt &
alpha_diversity.py -i delta_O-122.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-122.biom.txt &
alpha_diversity.py -i delta_O-123.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-123.biom.txt &
alpha_diversity.py -i delta_O-152.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-152.biom.txt &
alpha_diversity.py -i delta_O-39.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-39.biom.txt &
alpha_diversity.py -i delta_O-418.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-418.biom.txt &
alpha_diversity.py -i delta_O-420.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-420.biom.txt &
alpha_diversity.py -i delta_O-434.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-434.biom.txt &
alpha_diversity.py -i delta_O-445.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_O-445.biom.txt &
alpha_diversity.py -i delta_OMC-124.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_OMC-124.biom.txt &
alpha_diversity.py -i delta_OMC-125.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_OMC-125.biom.txt &
alpha_diversity.py -i delta_OMC-126.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_OMC-126.biom.txt &
alpha_diversity.py -i delta_OMC-288.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_OMC-288.biom.txt &
alpha_diversity.py -i delta_OMC-446.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_OMC-446.biom.txt &
alpha_diversity.py -i delta_OMC-55.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_delta_OMC-55.biom.txt &
alpha_diversity.py -i gamma_H-10.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_gamma_H-10.biom.txt &
alpha_diversity.py -i gamma_H-120.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_gamma_H-120.biom.txt &
alpha_diversity.py -i gamma_O-152.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_gamma_O-152.biom.txt &
alpha_diversity.py -i gamma_O-39.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_gamma_O-39.biom.txt &
alpha_diversity.py -i gamma_OMC-446.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_gamma_OMC-446.biom.txt &
alpha_diversity.py -i no-definido_H-10.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_H-10.biom.txt &
alpha_diversity.py -i no-definido_H-119.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_H-119.biom.txt &
alpha_diversity.py -i no-definido_H-120.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_H-120.biom.txt &
alpha_diversity.py -i no-definido_H-161.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_H-161.biom.txt &
alpha_diversity.py -i no-definido_H-193.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_H-193.biom.txt &
alpha_diversity.py -i no-definido_O-121.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_O-121.biom.txt &
alpha_diversity.py -i no-definido_O-123.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_O-123.biom.txt &
alpha_diversity.py -i no-definido_O-152.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_O-152.biom.txt &
alpha_diversity.py -i no-definido_O-39.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_O-39.biom.txt &
alpha_diversity.py -i no-definido_O-434.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_O-434.biom.txt &
alpha_diversity.py -i no-definido_OMC-288.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_OMC-288.biom.txt &
alpha_diversity.py -i no-definido_OMC-446.biom -m chao1,observed_otus,shannon,simpson,goods_coverage -o adiv_no-definido_OMC-446.biom.txt &
wait



for f in adiv_alpha* ; do head -1 $f | sed "s/^\t*//g" > average_alpha_$f ; for s in {2..6} ; do cat $f | awk -v N=$s '{ sum += $N } END { if (NR > 0) printf sum/NR"\t" }'  >> average_alpha_$f ; done ; done

for f in adiv_beta* ; do head -1 $f | sed "s/^\t*//g" > average_beta_$f ; for s in {2..6} ; do cat $f | awk -v N=$s '{ sum += $N } END { if (NR > 0) printf sum/NR"\t" }'  >> average_beta_$f ; done ; done

for f in adiv_delta* ; do head -1 $f | sed "s/^\t*//g" > average_delta_$f ; for s in {2..6} ; do cat $f | awk -v N=$s '{ sum += $N } END { if (NR > 0) printf sum/NR"\t" }'  >> average_delta_$f ; done ; done

for f in adiv_gamma* ; do head -1 $f | sed "s/^\t*//g" > average_gamma_$f ; for s in {2..6} ; do cat $f | awk -v N=$s '{ sum += $N } END { if (NR > 0) printf sum/NR"\t" }'  >> average_gamma_$f ; done ; done

for f in adiv_no-definido* ; do head -1 $f | sed "s/^\t*//g" > average_no-definido_$f ; for s in {2..6} ; do cat $f | awk -v N=$s '{ sum += $N } END { if (NR > 0) printf sum/NR"\t" }'  >> average_no-definido_$f ; done ; done

